use actix_web::{web, App, HttpResponse, HttpServer, Result};
use actix_multipart::Multipart;
use futures_util::StreamExt as _;
use base64::{Engine as _, engine::general_purpose};

async fn create_page() -> Result<HttpResponse> {
  let form = r#"
  <html>
  <head>
      <title>File Upload Form</title>
      <style>
          body {
              font-family: 'Press Start 2P', cursive;
              margin: 0;
              background-color: #000;
              color: #fff;
          }
          header {
              background-color: #000;
              color: #fff;
              padding: 10px;
              border: 2px solid #fff;
              border-radius: 5px;
              text-align: center;
              text-transform: uppercase;
          }
          h1 {
              margin: 0;
              font-size: 2em;
          }
          form {
              margin: 20px auto;
              max-width: 500px;
              padding: 20px;
              border: 2px solid #fff;
              border-radius: 5px;
              text-align: center;
          }
          label {
              display: block;
              margin-bottom: 5px;
              font-weight: bold;
              text-transform: uppercase;
          }
          input[type="text"],
          input[type="file"] {
              font-family: 'Press Start 2P', cursive;
              margin-bottom: 10px;
              padding: 10px;
              border: 2px solid #fff;
              border-radius: 5px;
              font-size: 1em;
              width: 100%;
              background-color: #000;
              color: #fff;
              text-transform: uppercase;
          }
          input[type="file"] {
              height: auto;
          }
          input[type="file"]::file-selector-button{
              font-family: 'Press Start 2P', cursive;
              margin-bottom: 10px;
              padding: 10px;
              border: 2px solid #fff;
              border-radius: 5px;
              font-size: 1em;
              background-color: #000;
              color: #fff;
              text-transform: uppercase;
          }
          input[type="file"]::file-selector-button:hover{
              background-color: #fff;
              color: #000;
          }
          input[type="submit"] {
              background-color: #ff00ff;
              color: #fff;
              border: none;
              border-radius: 5px;
              padding: 10px 20px;
              font-size: 1em;
              cursor: pointer;
              text-transform: uppercase;
              font-family: 'Press Start 2P', cursive;
              letter-spacing: 2px;
              box-shadow: 2px 2px 0px #fff;
          }
          input[type="submit"]:hover {
              background-color: #fff;
              color: #ff00ff;
              box-shadow: 2px 2px 0px #ff00ff;
          }
      </style>
      <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  </head>
  <body>
      <header>
          <h1>File Upload Form</h1>
      </header>
      <form action="/" method="POST" enctype="multipart/form-data">
          <label for="body">Body:</label>
          <input type="text" name="body" id="body">
          <label for="attachments">Attachments:</label>
          <input type="file" name="attachments" id="attachments" multiple>
          <input type="submit" value="Submit">
      </form>
  </body>
  </html>
"#;

  Ok(HttpResponse::Ok().content_type("text/html").body(form))
}

// function to take post request and return html page
async fn build_page (mut payload: Multipart) -> Result<HttpResponse>{
    let mut body = String::new();
    let mut images = Vec::new();

    while let Some(item) = payload.next().await {
        let mut field = item?;
        let content_disposition = field.content_disposition();
        let name = content_disposition.get_name().unwrap_or("");

        if name == "body" {
            while let Some(chunk) = field.next().await {
                if let Ok(data) = chunk {
                    let data_string = String::from_utf8_lossy(&data);
                    body = data_string.to_string();
                }
            }
        } else if name == "attachments" {
            let mut data = Vec::new();
            while let Some(chunk) = field.next().await {
                let chunk = chunk?;
                data.extend_from_slice(&chunk);
            }

            let content_type = field.content_type().expect("REASON").to_string();
            let data_uri = format!("data:{};base64,{}", content_type, general_purpose::STANDARD_NO_PAD.encode(&data));
  
            if !&data.is_empty() {
                images.push(format!("<img src=\"{}\" style=\"margin-top: 1rem; margin-bottom: 1rem;\">", data_uri));
            }
        } else {
            println!("Field '{}' not processed", name);
        }
    }

    let images_html = images.join("\n");

    let html = format!("
      <!DOCTYPE html>
      <html>
      <head>
        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />
        <title>Message</title>
        <style>
          html {{
            background-color: white;
            font-family: \"Roboto\", sans-serif;
            font-size: 20px;
          }}
          a {{ font-weight: bold }}
          img {{ max-width: 100%; }}
          .background {{
            background-size: cover;
            margin-top: 52px; 
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 0;
            padding: 52px 24px 48px 24px;
            text-align: left;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);
            border-radius: 10px;
            max-width: 752px;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTEzIiBoZWlnaHQ9IjY2OSIgdmlld0JveD0iMCAwIDkxMyA2NjkiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGc+CiAgICA8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfN18xOTczKSI+CiAgICAgIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSI5MTMiIGhlaWdodD0iNjY5IiBmaWxsPSIjOUREMkY2Ii8+CiAgICAgIDxnIG9wYWNpdHk9IjAuMyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAxXzdfMTk3MykiPgogICAgICAgIDxwYXRoIGQ9Ik01MTEuMzIyIC0xMTguMDQ0QzUxNS4yMjQgLTExNi4zOSA1MTkuMTA5IC0xMTQuNzA1IDUyMi45OTUgLTExMy4wMkw1MTAuMzY2IC05MS4zNzc3QzQ4NC42NzcgLTEwMi4xOTkgNDU4LjY2MyAtMTEzLjAyIDQzMS4xMzkgLTExNy4zOTVDNDAzLjYxNCAtMTIxLjc3IDM3My45NjIgLTExOC44MzMgMzUwLjUzOSAtMTAzLjcxNEMzMTQuNDU2IC04MC40NDgyIDMwMS43OTcgLTI0LjczNDEgMzI5LjA1OSA4LjQ4NzI2QzMzOS4yODIgMjAuOTQ3MiAzNTMuNTQ2IDI5LjM4NzggMzY4LjE0OCAzNi4xNTg4QzQxNi42MjkgNTguNjA1MiA0NzUuMzc5IDY3Ljc4NzkgNTA3LjkxNSAxMTAuMjM4QzUzNi45ODEgMTQ4LjE1OSA1MzMuMzExIDIwNy40NiA0OTkuNzczIDI0MS40ODVDNDY5LjMwMyAyNzIuNDAzIDQyMS4zMDEgMjgwLjIxIDM3OC42NjUgMjcyLjQwM0MzMzYuMDI5IDI2NC41OTYgMjk3LjIwMSAyNDMuMDc3IDI1OS4wMzcgMjIyLjUxN0MyMjAuODczIDIwMS45NTYgMTgxLjU4MyAxODEuMjQxIDEzOC42ODUgMTc0LjkwM0MxMTAuODM2IDE3MC43OTEgODAuNjkwMyAxNzMuMzU3IDU3LjQ4MzMgMTg5LjM1N0MzMC44NTMxIDIwNy42NjEgMTcuMzkxNSAyNDMuODk2IDI3LjE4MzIgMjc0LjcyMkMzOS44NTgzIDMxNC40NjcgODIuODAyOCAzMzUuMDEyIDEyMi4xODUgMzQ4LjQ5MkMxNjEuNTY4IDM2MS45NzIgMjA1LjI1MiAzNzUuNDA2IDIyNy41MTkgNDEwLjYyMUMyNDguNDkgNDQzLjY4OCAyNDMuMjQ3IDQ4OS42NDggMjE5LjMzMSA1MjAuNjQzQzE5NS40MTUgNTUxLjYzOCAxNTUuNzA4IDU2OC4wNTYgMTE2LjYzNCA1NjguNzY3Qzc3LjU2IDU2OS40NzggMzkuMjQxNSA1NTUuNzk3IDUuODI2NTYgNTM1LjQ4NEwxNy41OTIgNTE1LjM4N0M0My41MTI5IDUyNi4yMDggNjkuNzU3NiA1MzcuMjYxIDk3LjUyODggNTQxLjQ4MkMxMjUuMyA1NDUuNzAyIDE1NS4yNDYgNTQyLjU2NCAxNzguNjIyIDUyNi45MzVDMjE0LjQ4OSA1MDIuOTg5IDIyNS44ODQgNDQ2LjU0OCAxOTcuNjk3IDQxMy45M0MxODYuMzMyIDQwMC43NDMgMTcwLjQ1IDM5Mi4zOCAxNTQuNDQ0IDM4NS41OTNDMTAzLjcyOCAzNjQuMDc1IDQzLjA1MDMgMzUxLjU4NCAxMy43NTI0IDMwNC44NTFDLTIwLjM1NjUgMjUwLjI2NiAxMS42Mzk5IDE3Ny42NTUgNjkuNDQ5MiAxNTYuNjc3Qzk1LjY2MyAxNDcuMTcgMTI0LjY5OSAxNDYuNDU5IDE1MS44NTMgMTUxLjg1NEMxOTMuMTc5IDE2MC4wNDcgMjMwLjc4OCAxODAuNzc3IDI2Ny43OTYgMjAwLjk2N0MzMDQuODAzIDIyMS4xNTYgMzQyLjc4MyAyNDEuMzkyIDM4NC4zMjQgMjQ4LjQyNkM0MTIuOTQzIDI1My4yNjUgNDQ0LjAxNCAyNTEuMTQ3IDQ2OC4zNjMgMjM1LjMzMkM0OTUuODI1IDIxNy40OTMgNTExLjA2IDE4MS4yMjYgNTAxLjU3NyAxNDkuODZDNDg5Ljc4MSAxMTAuNzQ4IDQ0Ny43MzEgOTAuMjE4OCA0MDkuMDU4IDc3LjIwMjRDMzcwLjM4NCA2NC4xODU5IDMyNy41NzkgNTIuMDM1MiAzMDQuNjE4IDE4LjMxOTJDMjk0Ljc0NSAzLjQwOTk2IDI4OS4yMzMgLTEzLjk3MjcgMjg4LjcwNSAtMzEuODYwN0MyODcuMzQ4IC02Ni40NzMzIDMwMy44MTcgLTEwMS40MjYgMzMxLjc3MyAtMTIxLjg0N0MzNTguODUgLTE0MS41NzMgMzk0LjMzMiAtMTQ2LjkzNyA0MjcuNTYxIC0xNDIuOTQ5QzQ1Ni41MzUgLTEzOS40NzEgNDg0LjMwNyAtMTI5LjQ4NCA1MTEuMzIyIC0xMTguMDQ0WiIgZmlsbD0iIzM2NzRCMCIvPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzEwLjI5NCAxNjkuMjMzQzI4NC4zNjkgMTU1LjUwNyAyNTguOTIzIDEzOS45NzEgMjMyLjUwNSAxMjcuNjY3QzE5NS4zNTMgMTEwLjM2OSAxNTQuODA4IDk5LjE5MzIgMTEzLjg2MyA5OS45NjYxQzQzLjUwNzIgMTAxLjMxMSAtMjEuNjA0NyAxNDEuODI2IC00Mi44ODcyIDIxMS4wMTZDLTQ2LjczNTggMjIzLjQ3NCAtNDguODkzNyAyMzYuMzk0IC00OS4zMDI4IDI0OS40MjlDLTQ5Ljc5MjkgMjY5LjgzOCAtNDYuMDk5OSAyOTAuMTMgLTM4LjQ1MjIgMzA5LjA1Qy0zMC44MDQ1IDMyNy45NzEgLTE5LjM2NDkgMzQ1LjExNyAtNC44NDA5NSAzNTkuNDI4QzMwLjk1MzcgMzk0LjI3MSA4MS4yNzU5IDQwOC4zODQgMTI3Ljc4OSA0MjYuNDIzQzE0Ni45MjggNDMzLjg0MyAxNjkuMjI4IDQ0Ny45MSAxNjYuMjUxIDQ2OC4yNTNDMTYzLjA1OSA0OTAuMDk1IDEzNC4yNTEgNDk2IDExMi4zNTEgNDkzLjU0MkM3MS41NTgxIDQ4OC45MTcgMzIuNjIwMSA0NzMuOTIyIC0wLjc2OTUyNyA0NDkuOTgxTC02NCA1NTIuNTNDLTIwLjYwMjMgNTc4LjgwOCAyNS4yOTM4IDYwMi40NzQgNzUuMDQ1NCA2MTIuMjEzQzEyNC43OTcgNjIxLjk1MSAxNzkuMjM3IDYxNi4zNTYgMjIxLjEwOCA1ODcuNzI3QzIzOS4zMzkgNTc1LjI2NSAyNTQuNjA4IDU1OC45MjkgMjY1LjgyNyA1MzkuODgxQzI3Ny4wNDcgNTIwLjgzNCAyODMuOTQyIDQ5OS41NDMgMjg2LjAyMiA0NzcuNTIyQzI4OC4xMDIgNDU1LjUwMiAyODUuMzE3IDQzMy4yOTIgMjc3Ljg2NCA0MTIuNDcyQzI3MC40MTEgMzkxLjY1MyAyNTguNDczIDM3Mi43MzUgMjQyLjg5OSAzNTcuMDYzQzIxMC42MzYgMzI0LjYwMiAxNjUuNzg5IDMwOC43MTEgMTIyLjIyMSAyOTQuNjQ0QzEwOC43MjcgMjkwLjI2OSA5NC43MjM5IDI4NS43MDkgODQuNDIyIDI3NS45NEM3NC4xMiAyNjYuMTcgNjguNzg0IDI0OS41NjkgNzYuMTQwMyAyMzcuNDE5QzgyLjc3MTggMjI2LjQ1OSA5Ni45MTM4IDIyMi44NDIgMTA5LjY4MyAyMjIuMTkyQzE2Mi43ODEgMjE5LjUxOCAyMTAuNzc1IDI1MC42MDQgMjU3LjQ4OCAyNzYuMDY0QzMyMi41NyAzMTEuNTQgMzk5LjYwMyAzMzguMjk3IDQ2OS45MjcgMzE0LjkwOUM1MTMuOTI3IDMwMC4yODYgNTUxLjE3MSAyNjUuNjQ1IDU2Ny42MjYgMjIyLjE2MUM1ODQuMDgxIDE3OC42NzggNTc4LjkgMTI3LjMyNyA1NTIuODgzIDg4Ljg4MjhDNTIxLjI2NyA0Mi4xMjIzIDQ2NS4zMDEgMTkuMDU5IDQxMS42NDcgMS43NzY5OUMzOTkuMTI1IC0yLjI1NzU1IDM4Ni4yMDEgLTYuMzA3NTQgMzc2LjA2OSAtMTQuNzMyMUMzNjUuOTM2IC0yMy4xNTY3IDM1OS4yNTkgLTM3LjE5MjYgMzYzLjQwNyAtNDkuNjk4MUMzNjkuODU0IC02OS4wNjcgMzk1LjYyNCAtNzIuNTc1OSA0MTUuODQyIC03MC4xMTgxQzQ1Ni40ODggLTY1LjA5OTYgNDk1LjI2NCAtNTAuMDgxOSA1MjguNzE2IC0yNi40MDI5TDU5MS45NDcgLTEyOC45MzZDNTQ4LjUzNCAtMTU1LjIxNCA1MDIuNjM4IC0xNzguODUgNDUyLjkxNyAtMTg4LjU4OEM0MDMuMTk2IC0xOTguMzI3IDM0OC43NDEgLTE5Mi43IDMwNi44NyAtMTY0LjEwM0MyODguNjkzIC0xNTEuNTAzIDI3My40NjggLTEzNS4wOTIgMjYyLjI0OCAtMTE2LjAwN0MyNTEuMDI5IC05Ni45MjI1IDI0NC4wODUgLTc1LjYyMDYgMjQxLjg5NyAtNTMuNTc4MUMyNDAuMDE4IC0zMS41MTIzIDI0Mi45NDcgLTkuMzAxMDEgMjUwLjQ4MSAxMS41MTc5QzI1OC4wMTQgMzIuMzM2OCAyNjkuOTcyIDUxLjI2NTggMjg1LjUyNiA2Ni45OTQyQzMxOC43OTEgMTAwLjE1MiAzNjUuMTUgMTE1LjczMyA0MDkuNjU4IDEzMC41NzNDNDIxLjAzOSAxMzQuMzc2IDQzMi42ODMgMTM4LjMwMiA0NDEuOTM2IDE0Ni4wMzFDNDUxLjE5IDE1My43NiA0NTcuNjIxIDE2NS45NDEgNDU1LjAxNCAxNzcuNjU4QzQ1MC41NDIgMTk3LjgzMSA0MjQuNTcxIDIwMy45MzcgNDA0LjEyMSAyMDEuODM0QzM3MC42NzEgMTk4LjQ5NSAzNDAuMTY2IDE4NS4wNjIgMzEwLjI5NCAxNjkuMjMzWk0yMjUuMTQ4IDIzMi42MTFDMjA4LjQ5MiAyMjQuMzQxIDE5MS42NTIgMjE2LjQ3MyAxNzQuMjU2IDIwOS44ODhDMTQ3LjYyMiAxOTkuODA5IDExNy45OCAxOTIuNzE0IDkwLjgyMjEgMjAxLjIxNkM2My42NjM5IDIwOS43MTggNDEuMDg2IDIzOC41MTYgNDguNTgxMSAyNjYuMTM5QzU0Ljc0OTkgMjg4LjU4NCA3Ny4xNDI3IDMwMi4xNTcgOTguNTMzMiAzMTEuMjQ2QzE0Mi4yMDggMzI5Ljc5NSAxOTEuMzEyIDM0MC41MzkgMjI1LjMzMyAzNzMuNjk2QzIzNy44MDkgMzg1Ljg1MiAyNDcuNjAxIDQwMC40OTcgMjU0LjA3NCA0MTYuNjg0QzI2MC41NDggNDMyLjg3MiAyNjMuNTU5IDQ1MC4yNDEgMjYyLjkxNCA0NjcuNjY4QzI2Mi4yNjggNDg1LjA5NiAyNTcuOTggNTAyLjE5MyAyNTAuMzI3IDUxNy44NTVDMjQyLjY3NCA1MzMuNTE3IDIzMS44MjcgNTQ3LjM5NCAyMTguNDg2IDU1OC41ODlDMTg0LjU1NyA1ODcuMDk0IDEzNy4wNDIgNTk1LjQ1NiA5My4xMDQ2IDU4OS42MjlDNDkuMTY3MSA1ODMuODAxIDcuOTkwMiA1NjUuMjM2IC0zMS4zNjY5IDU0NC44MDFMNi45NDE1MSA0ODIuNTUxQzM4LjU5NjYgNTAyLjQ1NiA3NC41NjYgNTE0LjQzMyAxMTEuODEyIDUxNy40NzFDMTMxLjEyIDUxOS4wMTcgMTUxLjkwOSA1MTcuNzM0IDE2Ny43MDEgNTA2LjU3M0MxODcuNTM0IDQ5Mi42NjEgMTk0Ljk1MiA0NjMuNTIzIDE4NC4yMzQgNDQxLjc0MkMxNzQuMjcxIDQyMS41MDggMTUyLjUxIDQxMC4xOTIgMTMxLjUzNiA0MDEuOTM4QzkyLjE3OTMgMzg2LjQ4IDQ5LjE2NzEgMzc2LjAxNSAxNy42MjkgMzQ3Ljc1OEM0LjQ3NzI2IDMzNS44MjcgLTYuMDUwNTEgMzIxLjI4IC0xMy4yODM0IDMwNS4wNDVDLTIwLjUxNjMgMjg4LjgxMSAtMjQuMjk1NyAyNzEuMjQ0IC0yNC4zODA3IDI1My40NjRDLTI0LjMwMzYgMTgxLjg0NyAzNS4yMTAyIDEyOS4zMjEgMTAzLjg1NCAxMjQuNzc2QzExNC42IDEyNC4wNzggMTI1LjM4NyAxMjQuMzQ3IDEzNi4wODYgMTI1LjU4QzE3OC4wOTYgMTMwLjM4NyAyMTcuNTE0IDE0Ny45NzkgMjU1LjMxNCAxNjYuOTYxQzI5My4xMTMgMTg1Ljk0MyAzMzAuNDE5IDIwNi42ODggMzcwLjk3OSAyMTguNjUzQzM5Mi4wMTUgMjI0LjgzNiA0MTQuNTkzIDIyOC42MDcgNDM1Ljc1MiAyMjMuMDQzQzQ1Ni45MTEgMjE3LjQ3OCA0NzYuNDA1IDIwMC43MzcgNDc5LjY0MyAxNzguOTg3QzQ4My4wOTggMTU1LjggNDY3LjY5MSAxMzMuMzg2IDQ0OC4xODIgMTIwLjU0MUM0MjguNjczIDEwNy42OTUgNDA1LjQ0OCAxMDIuMTc3IDM4My4yNTUgOTQuOTU3N0MzNTEuMDcgODQuNTA4MSAzMTkuMjY5IDY5LjQzNjYgMjk2LjcyMiA0NC4xNjI4QzI4NS4yOTQgMzEuMzU5MSAyNzYuNjE3IDE2LjMzNTIgMjcxLjIzMSAwLjAyNTc4NzRDMjY1Ljg0NSAtMTYuMjgzNiAyNjMuODY1IC0zMy41Mjk1IDI2NS40MTQgLTUwLjYzODlDMjY2Ljk2MyAtNjcuNzQ4MiAyNzIuMDA5IC04NC4zNTUgMjgwLjIzNyAtOTkuNDI1OUMyODguNDY0IC0xMTQuNDk3IDI5OS42OTggLTEyNy43MDkgMzEzLjIzOSAtMTM4LjI0MUMzNDcuNzY5IC0xNjQuODc2IDM5NC4zMTMgLTE3MS44NzggNDM3LjMyNSAtMTY1LjU4N0M0ODAuMzM3IC0xNTkuMjk1IDUyMC42MDQgLTE0MC45NzggNTU5LjMxNCAtMTIxLjEyOUw1MjAuOTI4IC01OC44OTU2QzQ4OC45NDUgLTc5LjMwNTQgNDUyLjM0OSAtOTEuMzE0NSA0MTQuNTE2IC05My44MTUyQzM5NC41NDQgLTk1LjExMzcgMzczLjAzMSAtOTMuMjEyMyAzNTcuMzE1IC04MC43OTk2QzM0MC41MjEgLTY3LjU5ODUgMzMzLjc5NyAtNDMuMDIwMyAzNDEuNDYyIC0yMy4xNDEzQzM1MC41MyAwLjQxNjY4NyAzNzUuMzEzIDEzLjUyNTEgMzk4Ljc4NSAyMi42Mjk4QzQzNy4yMTcgMzcuNTE1OSA0NzguODU3IDQ4LjA0MjcgNTA5LjU3OCA3NS40MDM0QzUyNC41NSA4OC43MTkgNTM2LjE1NSAxMDUuNDA3IDU0My40MzkgMTI0LjA5NEM1NTAuNzIyIDE0Mi43ODIgNTUzLjQ3NiAxNjIuOTM2IDU1MS40NzMgMTgyLjg5OEM1NDkuNDcxIDIwMi44NjEgNTQyLjc2OSAyMjIuMDYxIDUzMS45MiAyMzguOTIyQzUyMS4wNzEgMjU1Ljc4MiA1MDYuMzg0IDI2OS44MiA0ODkuMDY2IDI3OS44ODJDNDQwLjU3OSAzMDguMDE1IDM3OC45MzcgMzAwLjg0MyAzMjYuNTQ4IDI4MC45NzlDMjkxLjU0IDI2Ny42ODUgMjU4LjcwNyAyNDkuMzIxIDIyNS4xNDggMjMyLjY1N1YyMzIuNjExWiIgZmlsbD0iIzM2NzRCMCIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgo8ZGVmcz4KICAgIDxjbGlwUGF0aCBpZD0iY2xpcDBfN18xOTczIj4KICAgICAgICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iOTEzIiBoZWlnaHQ9IjY2OSIvPgogICAgPC9jbGlwUGF0aD4KICAgIDxjbGlwUGF0aCBpZD0iY2xpcDFfN18xOTczIj4KICAgICAgICA8cmVjdCB3aWR0aD0iNjY5IiBoZWlnaHQ9IjkxMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY0IC0xOTMpIi8+CiAgICA8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=');
          }}
          .text {{
            color: #000000;
            padding: 24px;
            margin-top: 48px;
            margin-bottom: auto;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 4px;
          }}
          .signature {{
            margin-top: 48px;
            margin-bottom: 0;
            color: #142636;
            display: flex;
            font-size: 20px;
            height: 34px;
            align-items: center;
            justify-content: center;
            text-align: center;
            line-height: 35px;
          }}
          .signature img {{
              vertical-align: middle;
              height: 34px;
              margin-left: 8px;
          }}
          @media (max-width: 831px) {{
            .background {{
              margin-top: 24px;
              margin-left: 16px;
              margin-right: 16px;
              width: calc(100vw-32px);
            }}
            .signature {{
              display: block;
              margin-bottom: 24px;
            }}
          }}
          @media (prefers-color-scheme: dark) {{
            html {{
              background-color: #142636;
              color: #fff;
            }}
            .text {{
              background-color: #142636;
              color: #fff;
            }}
          }}
        </style>
      </head>
      <body>
        <div class=\"background\">
          <div class=\"text\">
            <p>{}</p>
            {}
          </div>
          <div class=\"signature\">
            This message was sent using <img alt=\"SchoolStatus Logo\" src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYzIiBoZWlnaHQ9IjM0IiB2aWV3Qm94PSIwIDAgMTYzIDM0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMzUuMDMwNCAxNy4wMDc5QzM1LjAzMDQgMjYuMzk4NyAyNy4xOTUxIDM0IDE3LjUxNTIgMzRDNy44MzUzMiAzNCAwIDI2LjM4MjkgMCAxNy4wMDc5QzAgNy42MzI5OCA3LjgzNTMyIDAgMTcuNTE1MiAwQzI3LjE5NTEgMCAzNS4wMzA0IDcuNjAxMyAzNS4wMzA0IDE2Ljk5MjFWMTcuMDA3OVpNMjcuNjY4NSA2LjYzNTNDMjcuNjY4NSA2LjYzNTMgMjIuMzQ3IDIuOTkzMDEgMTcuMDkwOCAyLjk5MzAxQzE0Ljk2ODcgMi45OTMwMSAxMi44NDY3IDMuNTk0NzggMTEuMSA1LjI1NzU3QzEwLjQzMDggNS44OTEwMSA5Ljg3NTc2IDYuNjE5NDcgOS40NTEzNSA3LjM5NTQzQzguNTY5ODggOC45OTQ4OCA4LjIxMDc2IDEwLjgzMTkgOC40NTU2MSAxMi42Njg4QzguNzgyMDggMTUuMTIzNCAxMC4yNTEyIDE4LjA1MzEgMTQuOTY4NyAxOS41ODkyQzE4LjU0MzYgMjAuNjk3NyAxOS41MzkzIDIxLjI4MzcgMTkuMzc2MSAyMi44NjczQzE5LjI5NDUgMjMuNjQzMiAxOC43NTU4IDI0LjI2MDggMTcuNTE1MiAyNC4yNjA4QzE2LjI3NDYgMjQuMjYwOCAxNC4xMTk5IDIzLjU5NTcgMTAuOTUzMSAyMS43NDI5TDcuMzYxOTMgMjcuMzQ4OUM3LjM2MTkzIDI3LjM0ODkgMTIuNjgzNCAzMC45OTEyIDE3LjkzOTYgMzAuOTkxMkMxOS41NTU2IDMwLjk5MTIgMjEuMTg4IDMwLjY0MjggMjIuNjQwOCAyOS43NDAxQzIzLjA5NzkgMjkuNDU1MSAyMy41MjIzIDI5LjEyMjUgMjMuOTQ2NyAyOC43MjY2QzI1Ljk4NzEgMjYuNzk0NiAyNi45NjY1IDI0LjAzOTEgMjYuNjA3NCAyMS4yOTk1QzI2LjMxMzYgMTkuMTI5OSAyNS4xMzgzIDE2LjU5NjIgMjEuNjI4NyAxNC45NjUxQzIxLjE1NTQgMTQuNzQzNCAyMC42NDkzIDE0LjU1MzMgMjAuMDk0MyAxNC4zNjMzQzE2LjUxOTUgMTMuMjU0OCAxNS4zMjc4IDEyLjgyNzIgMTUuNTA3NCAxMS4yMjc4QzE1LjU4OSAxMC40MjAxIDE2LjIwOTMgOS43NzA4NCAxNy41ODA1IDkuNzcwODRDMTguOTUxNyA5Ljc3MDg0IDIxLjA0MTEgMTAuNDIwMSAyNC4xMDk5IDEyLjIwOTZMMjUuNDQ4NSAxMC4xMDM0TDI1Ljg0MDIgOS40ODU3OUwyNi4yMzIgOC44NjgxOUMyNi4yMzIgOC44NjgxOSAyNi4yMTU3IDguODY4MTkgMjYuMTk5MyA4Ljg1MjM1QzI1Ljg4OTIgOC42NDY0OCAyNS40ODExIDguMzYxNDMgMjQuOTc1MSA4LjA2MDU1QzIzLjE3OTUgNi45OTk1MyAyMC4yMjQ5IDUuNjIxOCAxNi45NzY1IDUuNTkwMTNDMTQuNDQ2NCA1LjU3NDI5IDEzLjAwOTkgNi43NjE5OSAxMi4yMSA3LjkwMjE5QzEyLjExMjEgOC4wMjg4OCAxMi4wMzA1IDguMTU1NTcgMTEuOTY1MiA4LjI4MjI1QzExLjI2MzMgOS40Njk5NiAxMS4xMTY0IDEwLjY1NzcgMTEuMDgzNyAxMC44OTUyQzExLjAzNDcgMTEuMTQ4NiAxMC44ODc4IDEyLjMwNDYgMTEuNTA4MSAxMy42MzQ4QzExLjg5OTkgMTQuNDkgMTIuNTM2NSAxNS4yMzQzIDEzLjM2OSAxNS44ODM2QzE0LjM4MTEgMTYuNjU5NSAxNS43MDMzIDE3LjI2MTMgMTcuMzAzIDE3LjY4ODlDMTguMzY0IDE3Ljk3MzkgMTkuMjc4MSAxOC4zNTQgMjAuMDI5IDE4LjgyOTFDMjAuMjQxMiAxOC45NzE2IDIwLjQzNzEgMTkuMTE0MSAyMC42MzMgMTkuMjU2NkMyMS4yNjk2IDE5Ljc3OTIgMjEuNzU5MyAyMC4zOTY4IDIyLjA1MzEgMjEuMDkzNkMyMi41NTkyIDIyLjI2NTUgMjIuMzMwNiAyMy4yOTQ4IDIyLjMzMDYgMjMuMzQyM0MyMi4zMzA2IDIzLjM3NCAyMi4yNDkgMjMuODk2NiAyMS44ODk5IDI0LjU0NTlDMjEuNzc1NiAyNC43NTE3IDIxLjY2MTQgMjQuOTQxOCAyMS41MzA4IDI1LjExNkMyMS4wOTAxIDI1LjcxNzcgMjAuNTM1MSAyNi4xNzcgMTkuODY1OCAyNi40Nzc5QzE5LjA0OTYgMjYuODU3OSAxOC4wNzAyIDI2Ljk4NDYgMTYuOTYwMiAyNi44NTc5QzE1LjU1NjQgMjYuNjk5NiAxMy45NDAzIDI2LjE2MTIgMTIuMTQ0NyAyNS4yMjY4TDExLjQxMDIgMjYuNTA5NkMxMy43OTM0IDI3Ljc0NDggMTUuOTMxOCAyOC4zNjI0IDE3Ljc2IDI4LjM2MjRDMTguNzcyMSAyOC4zNjI0IDE5LjY4NjIgMjguMTcyMyAyMC41MTg3IDI3Ljc5MjNDMjEuMDkwMSAyNy41Mzg5IDIxLjU0NzEgMjcuMjA2MyAyMS45Mzg5IDI2Ljg1NzlDMjMuNDQwNyAyNS41MTE5IDIzLjc4MzQgMjMuNzIyNCAyMy44MTYxIDIzLjYyNzRDMjMuODE2MSAyMy41NjQgMjQuMTQyNiAyMi4yMDIxIDIzLjQ4OTYgMjAuNjAyN0MyMy4xMTQyIDE5LjY2ODQgMjIuNDkzOSAxOC44NjA3IDIxLjY2MTQgMTguMTY0QzIxLjEyMjcgMTcuNzIwNSAyMC41MDI0IDE3LjMyNDYgMTkuNzg0MiAxNi45OTIxQzE5LjE2MzkgMTYuNzA3IDE4LjQ2MiAxNi40NTM3IDE3LjcxMTEgMTYuMjYzNkMxNi4zMzk5IDE1Ljg5OTQgMTUuMjEzNiAxNS4zOTI2IDE0LjM2NDcgMTQuNzU5MkMxMy43MTE4IDE0LjI2ODMgMTMuMjM4NCAxMy43MTQgMTIuOTI4MyAxMy4wOTY0QzEyLjQyMjIgMTIuMDgyOSAxMi41NjkyIDExLjE5NjEgMTIuNTY5MiAxMS4xMzI3VjExLjEwMTFWMTEuMDUzNkMxMi41NjkyIDExLjAwNjEgMTIuNjgzNCA5Ljk2MDg4IDEzLjI4NzQgOC45NjMyQzEzLjQ1MDYgOC42NzgxNiAxMy42NDY1IDguNDI0NzggMTMuODU4NyA4LjIxODkxQzE0LjYwOTYgNy40NDI5NCAxNS42MjE3IDcuMDQ3MDQgMTYuODk0OSA3LjA0NzA0QzE2LjkxMTIgNy4wNDcwNCAxNi45Mjc1IDcuMDQ3MDQgMTYuOTQzOSA3LjA0NzA0QzE4LjY3NDIgNy4wNDcwNCAyMC41MzUxIDcuNTIyMTIgMjIuNDQ0OSA4LjM5MzExQzIyLjg4NTYgOC41OTg5NyAyMy40ODk2IDguODk5ODYgMjQuMTU4OSA5LjI3OTkyTDIzLjU1NDkgMTAuMjMwMUMyMi41MTAyIDkuNjc1ODMgMjEuNTQ3MSA5LjI0ODI1IDIwLjY2NTYgOC45MzE1M0MxOS40NzQgOC41MDM5NiAxOC40MjkzIDguMjk4MDkgMTcuNTE1MiA4LjI5ODA5QzE3LjA0MTggOC4yOTgwOSAxNi41ODQ4IDguMzYxNDMgMTYuMTkzIDguNDcyMjlDMTYuMDc4NyA4LjUwMzk2IDE1Ljk2NDUgOC41NTE0NyAxNS44NjY1IDguNTgzMTRDMTUuNTcyNyA4LjcwOTgzIDE1LjI5NTIgOC44NTIzNSAxNS4wNTAzIDkuMDQyMzlDMTQuNzIzOSA5LjI5NTc2IDE0LjQ2MjcgOS42MTI0OCAxNC4yNjY4IDkuOTc2NzFDMTQuMTAzNiAxMC4zMDkzIDEzLjk4OTMgMTAuNjczNSAxMy45NDAzIDExLjA1MzZDMTMuODU4NyAxMS43MzQ1IDEzLjk1NjcgMTIuMzM2MyAxNC4yMzQyIDEyLjg1ODlDMTQuNDk1MyAxMy4zODE1IDE0LjkxOTcgMTMuODA5IDE1LjUyMzcgMTQuMTg5MUMxNi4zODg5IDE0LjcyNzUgMTcuNjI5NSAxNS4xMjM0IDE5LjU1NTYgMTUuNzI1MkMxOS44OTg0IDE1LjgzNiAyMC4yMjQ5IDE1Ljk2MjcgMjAuNTE4NyAxNi4wODk0QzIxLjkwNjIgMTYuNjc1NCAyMi45ODM2IDE3LjQzNTUgMjMuNzM0NSAxOC4zNjk4QzI0LjQzNjQgMTkuMjQwOCAyNC44NzcxIDIwLjI4NiAyNS4wNDA0IDIxLjQ1NzlDMjUuMTg3MyAyMi41ODIyIDI1LjA3MyAyMy43MzgyIDI0LjY4MTIgMjQuNzk5M0MyNC4zMDU4IDI1Ljg3NjEgMjMuNjUyOSAyNi44NTc5IDIyLjgyMDQgMjcuNjQ5N0MyMi42MjQ1IDI3LjgzOTggMjIuNDI4NiAyOC4wMTQgMjIuMjE2NCAyOC4xNzIzQzIxLjY5NCAyOC41NjgyIDIxLjEyMjcgMjguODY5MSAyMC41MDI0IDI5LjA5MDhDMTkuNzE4OSAyOS4zNzU5IDE4LjgzNzQgMjkuNTAyNiAxNy44NzQzIDI5LjUwMjZDMTYuODI5NiAyOS41MDI2IDE1LjY3MDYgMjkuMzI4NCAxNC40NDY0IDI4Ljk5NThDMTMuNDM0MyAyOC43MjY2IDEyLjM3MzMgMjguMzMwNyAxMS4zMTIyIDI3LjgzOThDMTAuNTQ1IDI3LjQ5MTQgOS44OTIwOSAyNy4xNDMgOS4zNjk3MyAyNi44NTc5TDExLjM5MzkgMjMuNjkwN0MxMi40NzEyIDI0LjI2MDggMTMuNDUwNiAyNC43MDQyIDE0LjMzMjEgMjUuMDM2OEMxNS41NCAyNS40ODAyIDE2LjU1MjEgMjUuNzAxOSAxNy40NDk5IDI1LjcwMTlDMTcuOTA3IDI1LjcwMTkgMTguMzMxNCAyNS42Mzg2IDE4LjcwNjggMjUuNTI3N0MxOS4xMTQ5IDI1LjQwMSAxOS40OTAzIDI1LjIxMSAxOS44MDA1IDI0Ljk0MThDMjAuMzcxOCAyNC40NjY3IDIwLjczMDkgMjMuNzg1NyAyMC44MTI2IDIyLjk5MzlDMjAuODI4OSAyMi43NzIyIDIwLjg0NTIgMjIuNTUwNSAyMC44Mjg5IDIyLjM0NDdDMjAuODEyNiAyMS45NDg4IDIwLjczMDkgMjEuNTg0NSAyMC41ODQgMjEuMjUyQzIwLjU4NCAyMS4yMjAzIDIwLjU1MTQgMjEuMTg4NiAyMC41NTE0IDIxLjE3MjhDMjAuMzIyOCAyMC42NjYgMTkuOTQ3NCAyMC4yMjI2IDE5LjQwODcgMTkuODQyNkMxOC41NDM2IDE5LjIyNSAxNy4yNzAzIDE4Ljc2NTcgMTUuMzc2OCAxOC4xNjRDMTMuNTE1OSAxNy41NjIyIDEyLjExMjEgMTYuNjc1NCAxMS4xODE2IDE1LjUzNTJDMTAuNDc5NyAxNC42NjQyIDEwLjAzOSAxMy42MTkgOS44NzU3NiAxMi40NDcxQzkuNzI4ODUgMTEuMzIyOCA5Ljg0MzExIDEwLjE2NjcgMTAuMjM0OSA5LjEwNTczQzEwLjQxNDQgOC41OTg5OCAxMC42NTkzIDguMTA4MDYgMTAuOTM2OCA3LjY2NDY1QzExLjI2MzMgNy4xNTc4OSAxMS42Mzg3IDYuNjgyODEgMTIuMDc5NCA2LjI3MTA4QzEyLjc0ODcgNS42MjE4IDEzLjUzMjIgNS4xNDY3MiAxNC4zOTc0IDQuODQ1ODNDMTUuMTgwOSA0LjU2MDc4IDE2LjA2MjQgNC40MzQwOSAxNy4wMjU1IDQuNDM0MDlDMTguMDcwMiA0LjQzNDA5IDE5LjIyOTIgNC42MDgyOSAyMC40NTM0IDQuOTQwODVDMjEuNDY1NSA1LjIxMDA2IDIyLjUyNjUgNS42MDU5NiAyMy41ODc2IDYuMDk2ODhDMjQuMTU4OSA2LjM2NjA5IDI0LjY4MTIgNi42MTk0NyAyNS4xMjIgNi44NTcwMUMyNS4yNjg5IDYuOTM2MTkgMjUuMzk5NSA2Ljk5OTUzIDI1LjUxMzcgNy4wNzg3MUwyNi44MDMzIDcuODM4ODRMMjcuNTg2OCA2LjYxOTQ3TDI3LjY2ODUgNi42MzUzWiIgZmlsbD0iIzE0MjYzNiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQ1Ljk2MzIgMjAuMzQ5OEM0Ni40ODM5IDIxLjEzMTggNDYuOTk2MSAyMS42NzY2IDQ3LjQ5OTYgMjEuOTg0MUM0OC4wMDMyIDIyLjI5MTUgNDguNTk3NSAyMi40NDUzIDQ5LjI4MjcgMjIuNDQ1M0M1MC4xMDQ4IDIyLjQ0NTMgNTAuNzQ1NCAyMi4yNDY0IDUxLjIwNDUgMjEuODQ4N0M1MS42NjM1IDIxLjQ1MSA1MS44OTMgMjAuOTgxNCA1MS44OTMgMjAuNDRDNTEuODkzIDE5Ljk2NTQgNTEuNzExNSAxOS41NDc3IDUxLjM0ODMgMTkuMTg2N0M1MC45Nzg0IDE4LjgyNTggNTAuMTUyOCAxOC40NzgyIDQ4Ljg3MTYgMTguMTQ0QzQ3LjEyNDUgMTcuNjk2MSA0NS44NzQyIDE3LjE0OCA0NS4xMjA1IDE2LjQ5OTdDNDQuMTgxOSAxNS42ODQyIDQzLjcxMjYgMTQuNjc0OSA0My43MTI2IDEzLjQ3MTdDNDMuNzEyNiAxMi4xODE3IDQ0LjE4MTkgMTEuMTEzOSA0NS4xMjA1IDEwLjI2ODNDNDYuMDU5MiA5LjQyMjc3IDQ3LjM0NzIgOSA0OC45ODQ3IDlDNDkuOTE2NCA5IDUwLjc0NzEgOS4xNTIwNiA1MS40NzY4IDkuNDU2MkM1Mi4yMDY1IDkuNzYwMzMgNTIuODI0OCAxMC4xNDk3IDUzLjMzMTggMTAuNjI0M0M1My42NjA3IDEwLjkzODQgNTMuOTg5NSAxMS4zNjk1IDU0LjMxODQgMTEuOTE3N0w1MS43Mjg2IDEyLjk1MDRDNTEuMjkwMSAxMi4zNDIxIDUwLjg0MTQgMTEuODk3NiA1MC4zODIzIDExLjYxNjlDNDkuOTIzMyAxMS4zMzYxIDQ5LjQxMjkgMTEuMTk1OCA0OC44NTExIDExLjE5NThDNDguMTU5MSAxMS4xOTU4IDQ3LjYwNTggMTEuMzg0NiA0Ny4xOTEzIDExLjc2MjJDNDYuNzc2OCAxMi4xMzk5IDQ2LjU2OTYgMTIuNTk2MSA0Ni41Njk2IDEzLjEzMDhDNDYuNTY5NiAxMy41NTg2IDQ2Ljc0MDggMTMuOTI2MyA0Ny4wODM0IDE0LjIzMzdDNDcuNDE5MSAxNC41NDEyIDQ4LjI2MTggMTQuODU4NyA0OS42MTE1IDE1LjE4NjJDNTAuOTYxMyAxNS41MTM4IDUxLjk4MzggMTUuODk0NyA1Mi42NzkyIDE2LjMyOTJDNTMuMzc0NiAxNi43NjM3IDUzLjg5NTMgMTcuMzI4NSA1NC4yNDEzIDE4LjAyMzdDNTQuNTg3MyAxOC43MTg4IDU0Ljc2MDMgMTkuNDM0IDU0Ljc2MDMgMjAuMTY5M0M1NC43NjAzIDIwLjk0NDcgNTQuNTM3NiAyMS43MjM0IDU0LjA5MjMgMjIuNTA1NEM1My42NDcgMjMuMjg3NSA1Mi45ODU4IDIzLjg4OSA1Mi4xMDg4IDI0LjMxMDJDNTEuMjMxOSAyNC43MzEzIDUwLjIyNDcgMjQuOTQxOCA0OS4wODc0IDI0Ljk0MThDNDguMDExOCAyNC45NDE4IDQ3LjA3ODMgMjQuNzY2NCA0Ni4yODcgMjQuNDE1NEM0NS40OTU2IDI0LjA2NDUgNDQuODI1OSAyMy41OTE2IDQ0LjI3NzggMjIuOTk2N0M0My45MjE1IDIyLjYxNTcgNDMuNTYxOSAyMi4wODQzIDQzLjE5ODcgMjEuNDAyNUw0NS45NjMyIDIwLjM0OThaTTY1LjQ3NDcgMjEuNzAzM0M2NS4xOTM4IDIyLjM3MTcgNjQuOTIzMiAyMi44NzMxIDY0LjY2MjkgMjMuMjA3M0M2NC4yNTg2IDIzLjcyMTkgNjMuNzcwNSAyNC4xMTk3IDYzLjE5ODQgMjQuNDAwNEM2Mi42MjYzIDI0LjY4MTEgNjEuOTQ2MyAyNC44MjE1IDYxLjE1ODQgMjQuODIxNUM1OS40NzMgMjQuODIxNSA1OC4xNTA3IDI0LjE4NjUgNTcuMTkxNSAyMi45MTY1QzU2LjQzMSAyMS45MDA1IDU2LjA1MDggMjAuNjY3MyA1Ni4wNTA4IDE5LjIxNjhDNTYuMDUwOCAxNy41MTkgNTYuNTU0MyAxNi4xNDU0IDU3LjU2MTUgMTUuMDk2QzU4LjU2ODYgMTQuMDQ2NiA1OS44MDE5IDEzLjUyMTkgNjEuMjYxMiAxMy41MjE5QzYxLjk2NjkgMTMuNTIxOSA2Mi41Nzg0IDEzLjY0NTUgNjMuMDk1NiAxMy44OTI4QzYzLjYxMjkgMTQuMTQwMSA2NC4wNjY4IDE0LjQ4NDQgNjQuNDU3MyAxNC45MjU1QzY0LjczMTQgMTUuMjMzIDY1LjAyNiAxNS42OTc2IDY1LjM0MTEgMTYuMzE5Mkw2Mi45MzYzIDE2Ljk0MDhDNjIuNjY5MSAxNi41MDY0IDYyLjM5NjggMTYuMTk1NSA2Mi4xMTkzIDE2LjAwODRDNjEuODQxOCAxNS44MjEyIDYxLjUyNSAxNS43Mjc2IDYxLjE2ODcgMTUuNzI3NkM2MC42MjA2IDE1LjcyNzYgNjAuMTQ5NiAxNS45NzE2IDU5Ljc1NTYgMTYuNDU5NkM1OS4zNjE3IDE2Ljk0NzUgNTkuMTY0NyAxNy43Mjk2IDU5LjE2NDcgMTguODA1N0M1OS4xNjQ3IDE5LjY0MTIgNTkuMjcwOSAyMC4zOTMyIDU5LjQ4MzMgMjEuMDYxNkM1OS42MjcyIDIxLjU0MjkgNTkuODYwMSAyMS45MDg5IDYwLjE4MjEgMjIuMTU5NUM2MC41MDQxIDIyLjQxMDIgNjAuODYzOCAyMi41MzU1IDYxLjI2MTIgMjIuNTM1NUM2MS42ODYgMjIuNTM1NSA2Mi4wNzQ4IDIyLjM4NTEgNjIuNDI3NiAyMi4wODQzQzYyLjc4MDUgMjEuNzgzNSA2My4wNTYyIDIxLjI5ODkgNjMuMjU0OSAyMC42MzA1TDY1LjQ3NDcgMjEuNzAzM1pNNjYuMjEwMyA5LjA3MDE4SDY5LjA0NjdWMTUuMTk2M0M2OS43MTEzIDE0LjYzNDggNzAuMzc0MSAxNC4yMTUzIDcxLjAzNTMgMTMuOTM4QzcxLjY5NjUgMTMuNjYwNiA3Mi4zNTI1IDEzLjUyMTkgNzMuMDAzMyAxMy41MjE5QzczLjc4NDQgMTMuNTIxOSA3NC4zNTk5IDEzLjcyOTEgNzQuNzI5OSAxNC4xNDM1Qzc1LjI0MzcgMTQuNjk4MyA3NS41MDA2IDE1LjQxNjggNzUuNTAwNiAxNi4yOTkxVjI0LjY0MUg3Mi42NjQyVjE2Ljk3MDlDNzIuNjY0MiAxNi41NjMyIDcyLjU3MTcgMTYuMjU5IDcyLjM4NjcgMTYuMDU4NUM3Mi4yMDE3IDE1Ljg1OCA3MS45NTg1IDE1Ljc1NzcgNzEuNjU3MSAxNS43NTc3QzcxLjMyMTMgMTUuNzU3NyA3MC45MzYgMTUuODcxNCA3MC41MDA5IDE2LjA5ODZDNzAuMDY1OCAxNi4zMjU5IDY5LjU4MTEgMTYuNjcwMSA2OS4wNDY3IDE3LjEzMTNWMjQuNjQxSDY2LjIxMDNWOS4wNzAxOFpNODEuNzU0OSAxMy41MjE5QzgzLjQxOTggMTMuNTIxOSA4NC43MjY2IDE0LjAwNjUgODUuNjc1NSAxNC45NzU3Qzg2LjYyNDUgMTUuOTQ0OSA4Ny4wOTg5IDE3LjMyMTggODcuMDk4OSAxOS4xMDY1Qzg3LjA5ODkgMjAuOTA0NiA4Ni42MTkzIDIyLjMwODIgODUuNjYwMSAyMy4zMTc2Qzg0LjcwMDkgMjQuMzI2OSA4My41MDIgMjQuODMxNSA4Mi4wNjMyIDI0LjgzMTVDODAuNjg2MSAyNC44MzE1IDc5LjQ4ODggMjQuMzUzNiA3OC40NzE0IDIzLjM5NzhDNzcuNDU0IDIyLjQ0MTkgNzYuOTQ1MyAyMS4wMTgyIDc2Ljk0NTMgMTkuMTI2NkM3Ni45NDUzIDE3LjMzNTIgNzcuNDAwOSAxNS45NTMyIDc4LjMxMjEgMTQuOTgwN0M3OS4yMjMzIDE0LjAwODEgODAuMzcwOSAxMy41MjE5IDgxLjc1NDkgMTMuNTIxOVpNODIuMDQyNiAxNS4zNDY2QzgxLjM5ODYgMTUuMzQ2NiA4MC44OTE2IDE1LjU5MDYgODAuNTIxNyAxNi4wNzg2QzgwLjAyODQgMTYuNzI2OSA3OS43ODE3IDE3Ljc2MyA3OS43ODE3IDE5LjE4NjdDNzkuNzgxNyAyMC40OTAxIDgwLjAwMSAyMS40MTkyIDgwLjQzOTQgMjEuOTc0QzgwLjg3NzkgMjIuNTI4OCA4MS40MDU1IDIyLjgwNjIgODIuMDIyMSAyMi44MDYyQzgyLjQ1MzcgMjIuODA2MiA4Mi44NDc3IDIyLjY3MDkgODMuMjAzOSAyMi40MDAxQzgzLjU2MDIgMjIuMTI5NCA4My44MTcxIDIxLjc0MzQgODMuOTc0NyAyMS4yNDIxQzg0LjIwMDggMjAuNTQwMyA4NC4zMTM4IDE5Ljc0ODIgODQuMzEzOCAxOC44NjU5Qzg0LjMxMzggMTguMjA0MSA4NC4yMTk2IDE3LjU4NzUgODQuMDMxMiAxNy4wMTZDODMuODQyOCAxNi40NDQ1IDgzLjU3MDUgMTYuMDIzNCA4My4yMTQyIDE1Ljc1MjdDODIuODU3OSAxNS40ODIgODIuNDY3NCAxNS4zNDY2IDgyLjA0MjYgMTUuMzQ2NlpNOTIuODgwNCAxMy41MjE5Qzk0LjU0NTMgMTMuNTIxOSA5NS44NTIyIDE0LjAwNjUgOTYuODAxMSAxNC45NzU3Qzk3Ljc1IDE1Ljk0NDkgOTguMjI0NCAxNy4zMjE4IDk4LjIyNDQgMTkuMTA2NUM5OC4yMjQ0IDIwLjkwNDYgOTcuNzQ0OCAyMi4zMDgyIDk2Ljc4NTcgMjMuMzE3NkM5NS44MjY1IDI0LjMyNjkgOTQuNjI3NSAyNC44MzE1IDkzLjE4ODcgMjQuODMxNUM5MS44MTE2IDI0LjgzMTUgOTAuNjE0NCAyNC4zNTM2IDg5LjU5NjkgMjMuMzk3OEM4OC41Nzk1IDIyLjQ0MTkgODguMDcwOCAyMS4wMTgyIDg4LjA3MDggMTkuMTI2NkM4OC4wNzA4IDE3LjMzNTIgODguNTI2NCAxNS45NTMyIDg5LjQzNzYgMTQuOTgwN0M5MC4zNDg5IDE0LjAwODEgOTEuNDk2NCAxMy41MjE5IDkyLjg4MDQgMTMuNTIxOVpNOTMuMTY4MiAxNS4zNDY2QzkyLjUyNDEgMTUuMzQ2NiA5Mi4wMTcyIDE1LjU5MDYgOTEuNjQ3MiAxNi4wNzg2QzkxLjE1MzkgMTYuNzI2OSA5MC45MDcyIDE3Ljc2MyA5MC45MDcyIDE5LjE4NjdDOTAuOTA3MiAyMC40OTAxIDkxLjEyNjUgMjEuNDE5MiA5MS41NjUgMjEuOTc0QzkyLjAwMzUgMjIuNTI4OCA5Mi41MzEgMjIuODA2MiA5My4xNDc2IDIyLjgwNjJDOTMuNTc5MyAyMi44MDYyIDkzLjk3MzIgMjIuNjcwOSA5NC4zMjk1IDIyLjQwMDFDOTQuNjg1NyAyMi4xMjk0IDk0Ljk0MjcgMjEuNzQzNCA5NS4xMDAyIDIxLjI0MjFDOTUuMzI2MyAyMC41NDAzIDk1LjQzOTQgMTkuNzQ4MiA5NS40Mzk0IDE4Ljg2NTlDOTUuNDM5NCAxOC4yMDQxIDk1LjM0NTIgMTcuNTg3NSA5NS4xNTY4IDE3LjAxNkM5NC45NjgzIDE2LjQ0NDUgOTQuNjk2IDE2LjAyMzQgOTQuMzM5NyAxNS43NTI3QzkzLjk4MzUgMTUuNDgyIDkzLjU5MyAxNS4zNDY2IDkzLjE2ODIgMTUuMzQ2NlpNMTAwLjMzNyA5LjA3MDE4SDEwMy4xNzRWMjQuNjQxSDEwMC4zMzdWOS4wNzAxOFpNMTA4LjA4MSAyMC4zNDk4QzEwOC42MDIgMjEuMTMxOCAxMDkuMTE0IDIxLjY3NjYgMTA5LjYxOCAyMS45ODQxQzExMC4xMjEgMjIuMjkxNSAxMTAuNzE2IDIyLjQ0NTMgMTExLjQwMSAyMi40NDUzQzExMi4yMjMgMjIuNDQ1MyAxMTIuODY0IDIyLjI0NjQgMTEzLjMyMyAyMS44NDg3QzExMy43ODIgMjEuNDUxIDExNC4wMTEgMjAuOTgxNCAxMTQuMDExIDIwLjQ0QzExNC4wMTEgMTkuOTY1NCAxMTMuODMgMTkuNTQ3NyAxMTMuNDY3IDE5LjE4NjdDMTEzLjA5NyAxOC44MjU4IDExMi4yNzEgMTguNDc4MiAxMTAuOTkgMTguMTQ0QzEwOS4yNDMgMTcuNjk2MSAxMDcuOTkyIDE3LjE0OCAxMDcuMjM5IDE2LjQ5OTdDMTA2LjMgMTUuNjg0MiAxMDUuODMxIDE0LjY3NDkgMTA1LjgzMSAxMy40NzE3QzEwNS44MzEgMTIuMTgxNyAxMDYuMyAxMS4xMTM5IDEwNy4yMzkgMTAuMjY4M0MxMDguMTc3IDkuNDIyNzcgMTA5LjQ2NSA5IDExMS4xMDMgOUMxMTIuMDM1IDkgMTEyLjg2NSA5LjE1MjA2IDExMy41OTUgOS40NTYyQzExNC4zMjUgOS43NjAzMyAxMTQuOTQzIDEwLjE0OTcgMTE1LjQ1IDEwLjYyNDNDMTE1Ljc3OSAxMC45Mzg0IDExNi4xMDggMTEuMzY5NSAxMTYuNDM3IDExLjkxNzdMMTEzLjg0NyAxMi45NTA0QzExMy40MDggMTIuMzQyMSAxMTIuOTYgMTEuODk3NiAxMTIuNTAxIDExLjYxNjlDMTEyLjA0MiAxMS4zMzYxIDExMS41MzEgMTEuMTk1OCAxMTAuOTY5IDExLjE5NThDMTEwLjI3NyAxMS4xOTU4IDEwOS43MjQgMTEuMzg0NiAxMDkuMzEgMTEuNzYyMkMxMDguODk1IDEyLjEzOTkgMTA4LjY4OCAxMi41OTYxIDEwOC42ODggMTMuMTMwOEMxMDguNjg4IDEzLjU1ODYgMTA4Ljg1OSAxMy45MjYzIDEwOS4yMDIgMTQuMjMzN0MxMDkuNTM3IDE0LjU0MTIgMTEwLjM4IDE0Ljg1ODcgMTExLjczIDE1LjE4NjJDMTEzLjA4IDE1LjUxMzggMTE0LjEwMiAxNS44OTQ3IDExNC43OTcgMTYuMzI5MkMxMTUuNDkzIDE2Ljc2MzcgMTE2LjAxNCAxNy4zMjg1IDExNi4zNiAxOC4wMjM3QzExNi43MDYgMTguNzE4OCAxMTYuODc5IDE5LjQzNCAxMTYuODc5IDIwLjE2OTNDMTE2Ljg3OSAyMC45NDQ3IDExNi42NTYgMjEuNzIzNCAxMTYuMjExIDIyLjUwNTRDMTE1Ljc2NSAyMy4yODc1IDExNS4xMDQgMjMuODg5IDExNC4yMjcgMjQuMzEwMkMxMTMuMzUgMjQuNzMxMyAxMTIuMzQzIDI0Ljk0MTggMTExLjIwNiAyNC45NDE4QzExMC4xMyAyNC45NDE4IDEwOS4xOTcgMjQuNzY2NCAxMDguNDA1IDI0LjQxNTRDMTA3LjYxNCAyNC4wNjQ1IDEwNi45NDQgMjMuNTkxNiAxMDYuMzk2IDIyLjk5NjdDMTA2LjA0IDIyLjYxNTcgMTA1LjY4IDIyLjA4NDMgMTA1LjMxNyAyMS40MDI1TDEwOC4wODEgMjAuMzQ5OFpNMTE5LjM0MSAxMC4xODMxSDEyMi4xNzdWMTMuNzEyNEgxMjQuMTVWMTUuNjk3NkgxMjIuMTc3VjIxLjUzMjlDMTIyLjE3NyAyMS44NDcgMTIyLjI5NSAyMi4wOTEgMTIyLjUzMiAyMi4yNjQ4QzEyMi43NjggMjIuNDM4NiAxMjMuMzA4IDIyLjUzNTUgMTI0LjE1IDIyLjU1NTZWMjQuODExNUMxMjMuNTIgMjQuODI0OCAxMjMuMTg4IDI0LjgzMTUgMTIzLjE1MyAyNC44MzE1QzEyMi4yNyAyNC44MzE1IDEyMS41NjkgMjQuNzE3OSAxMjEuMDUyIDI0LjQ5MDZDMTIwLjUzNCAyNC4yNjM0IDEyMC4xMiAyMy44ODI0IDExOS44MDggMjMuMzQ3NkMxMTkuNDk2IDIyLjgxMjkgMTE5LjM0MSAyMi4yMDggMTE5LjM0MSAyMS41MzI5VjE1LjY5NzZIMTE3LjYyNFYxMy43MTI0SDExOS4zNDFWMTAuMTgzMVpNMTI1LjMwNyAxNS40OTdDMTI1Ljg2MiAxNC44NTU0IDEyNi41MjcgMTQuMzY1NyAxMjcuMzAxIDE0LjAyODJDMTI4LjA3NSAxMy42OTA2IDEyOC45MDQgMTMuNTIxOSAxMjkuNzg4IDEzLjUyMTlDMTMwLjcwNiAxMy41MjE5IDEzMS41MTQgMTMuNjgyMyAxMzIuMjEzIDE0LjAwMzFDMTMyLjcyIDE0LjI0MzggMTMzLjE2IDE0LjY0MzEgMTMzLjUzNCAxNS4yMDEzQzEzMy45MDcgMTUuNzU5NCAxMzQuMDk0IDE2LjQ1OTYgMTM0LjA5NCAxNy4zMDE4VjIyLjM5NTFDMTM0LjA5NCAyMi43MTYgMTM0LjEzNSAyMy4xMDM3IDEzNC4yMTcgMjMuNTU4MkMxMzQuMjk5IDI0LjAxMjcgMTM0LjM4OSAyNC4zNzM3IDEzNC40ODQgMjQuNjQxSDEzMi4wMDhDMTMxLjg5MSAyNC4yNzM0IDEzMS44MDIgMjMuODk5MSAxMzEuNzQgMjMuNTE4MUMxMzEuMjMzIDIzLjk1MjYgMTMwLjcwOCAyNC4yODAxIDEzMC4xNjMgMjQuNTAwN0MxMjkuNjE4IDI0LjcyMTIgMTI5LjA1NSAyNC44MzE1IDEyOC40NzIgMjQuODMxNUMxMjcuNDU4IDI0LjgzMTUgMTI2LjYyNCAyNC41MzI0IDEyNS45NyAyMy45MzQyQzEyNS4zMTYgMjMuMzM1OSAxMjQuOTg5IDIyLjYyNTcgMTI0Ljk4OSAyMS44MDM2QzEyNC45ODkgMjEuMjI4NyAxMjUuMTM5IDIwLjY4NCAxMjUuNDQxIDIwLjE2OTNDMTI1Ljc0MiAxOS42NTQ2IDEyNi4xODQgMTkuMjA1MSAxMjYuNzY2IDE4LjgyMDhDMTI3LjM0OSAxOC40MzY0IDEyOC4wODIgMTguMTI3MyAxMjguOTY2IDE3Ljg5MzNDMTI5LjYzIDE3LjcxOTUgMTMwLjUyNCAxNy41NzI1IDEzMS42NDggMTcuNDUyMkMxMzEuNjQ4IDE2Ljk5MSAxMzEuNjA3IDE2LjY1NjcgMTMxLjUyNSAxNi40NDk1QzEzMS40MDEgMTYuMTI4NyAxMzEuMTg2IDE1Ljg3OCAxMzAuODc3IDE1LjY5NzZDMTMwLjU2OSAxNS41MTcxIDEzMC4xODkgMTUuNDI2OSAxMjkuNzM2IDE1LjQyNjlDMTI4LjY0NyAxNS40MjY5IDEyNy43MzIgMTUuOTExNSAxMjYuOTkzIDE2Ljg4MDdMMTI1LjMwNyAxNS40OTdaTTEzMS42NDggMjEuNzUzNFYxOS4wMTYzQzEzMC4wMTEgMTkuMzE3MSAxMjguODg3IDE5LjcyODEgMTI4LjI3NyAyMC4yNDk1QzEyNy44MDQgMjAuNjQzOSAxMjcuNTY4IDIxLjA4ODQgMTI3LjU2OCAyMS41ODNDMTI3LjU2OCAyMS45ODQxIDEyNy43MDMgMjIuMzE0OSAxMjcuOTc0IDIyLjU3NTZDMTI4LjI0NSAyMi44MzYzIDEyOC41ODkgMjIuOTY2NiAxMjkuMDA3IDIyLjk2NjZDMTI5LjM2MyAyMi45NjY2IDEyOS43NjIgMjIuODY0NyAxMzAuMjA0IDIyLjY2MDhDMTMwLjY0NiAyMi40NTcgMTMxLjEyNyAyMi4xNTQ1IDEzMS42NDggMjEuNzUzNFpNMTM2Ljc5MiAxMC4xODMxSDEzOS42MjlWMTMuNzEyNEgxNDEuNjAyVjE1LjY5NzZIMTM5LjYyOVYyMS41MzI5QzEzOS42MjkgMjEuODQ3IDEzOS43NDcgMjIuMDkxIDEzOS45ODMgMjIuMjY0OEMxNDAuMjIgMjIuNDM4NiAxNDAuNzU5IDIyLjUzNTUgMTQxLjYwMiAyMi41NTU2VjI0LjgxMTVDMTQwLjk3MiAyNC44MjQ4IDE0MC42MzkgMjQuODMxNSAxNDAuNjA1IDI0LjgzMTVDMTM5LjcyMSAyNC44MzE1IDEzOS4wMjEgMjQuNzE3OSAxMzguNTAzIDI0LjQ5MDZDMTM3Ljk4NiAyNC4yNjM0IDEzNy41NzIgMjMuODgyNCAxMzcuMjYgMjMuMzQ3NkMxMzYuOTQ4IDIyLjgxMjkgMTM2Ljc5MiAyMi4yMDggMTM2Ljc5MiAyMS41MzI5VjE1LjY5NzZIMTM1LjA3NlYxMy43MTI0SDEzNi43OTJWMTAuMTgzMVpNMTQyLjg0MSAxMy43MTI0SDE0NS43MDhWMjEuMjEyQzE0NS43MDggMjEuNTkzIDE0NS44MTggMjEuODk1NSAxNDYuMDM3IDIyLjExOTRDMTQ2LjI1NiAyMi4zNDMzIDE0Ni41MzQgMjIuNDU1MyAxNDYuODcgMjIuNDU1M0MxNDcuMjE5IDIyLjQ1NTMgMTQ3LjU3NSAyMi4zNTg0IDE0Ny45MzggMjIuMTY0NUMxNDguMzAyIDIxLjk3MDcgMTQ4Ljc0MyAyMS42MDMxIDE0OS4yNjQgMjEuMDYxNlYxMy43MTI0SDE1Mi4xMTFWMjQuNjQxSDE0OS4yNjRWMjIuOTk2N0MxNDguNjIgMjMuNjMxNyAxNDcuOTY0IDI0LjA5NDYgMTQ3LjI5NiAyNC4zODU0QzE0Ni42MjggMjQuNjc2MSAxNDYuMDQ0IDI0LjgyMTUgMTQ1LjU0NCAyNC44MjE1QzE0NS4wODUgMjQuODIxNSAxNDQuNjUyIDI0LjcxNjIgMTQ0LjI0NCAyNC41MDU3QzE0My44MzYgMjQuMjk1MSAxNDMuNSAyMy45NTU5IDE0My4yMzcgMjMuNDg4QzE0Mi45NzMgMjMuMDIwMSAxNDIuODQxIDIyLjQ0NTMgMTQyLjg0MSAyMS43NjM1VjEzLjcxMjRaTTE1NS40ODggMjEuNjczMkMxNTYuMDQ5IDIyLjA4NzcgMTU2LjU1MyAyMi4zNzg0IDE1Ni45OTggMjIuNTQ1NUMxNTcuNDQ0IDIyLjcxMjYgMTU3LjkwNiAyMi43OTYyIDE1OC4zODYgMjIuNzk2MkMxNTkuMDA5IDIyLjc5NjIgMTU5LjQ3IDIyLjY4NDIgMTU5Ljc2OCAyMi40NjAzQzE2MC4wNjYgMjIuMjM2NCAxNjAuMjE1IDIxLjk4MDcgMTYwLjIxNSAyMS42OTMzQzE2MC4yMTUgMjEuNDI1OSAxNjAuMDgxIDIxLjE3ODYgMTU5LjgxNCAyMC45NTEzQzE1OS41NDcgMjAuNzI0MSAxNTguOTY4IDIwLjUzNjkgMTU4LjA3NyAyMC4zODk5QzE1Ni42MDQgMjAuMTM1OSAxNTUuNTYzIDE5LjcwNDcgMTU0Ljk1MyAxOS4wOTY1QzE1NC4zNDMgMTguNDg4MiAxNTQuMDM5IDE3Ljc2MyAxNTQuMDM5IDE2LjkyMDhDMTU0LjAzOSAxNi4wMzE4IDE1NC40MzYgMTUuMjQzIDE1NS4yMzEgMTQuNTU0NkMxNTYuMDI1IDEzLjg2NjEgMTU3LjA2MyAxMy41MjE5IDE1OC4zNDUgMTMuNTIxOUMxNTkuMDc4IDEzLjUyMTkgMTU5Ljc3MSAxMy42Mjg4IDE2MC40MjYgMTMuODQyN0MxNjEuMDggMTQuMDU2NiAxNjEuNzg3IDE0LjQ2NDMgMTYyLjU0OCAxNS4wNjU5TDE2MC45MDQgMTYuNDA5NEMxNjAuMTE2IDE1Ljk0ODIgMTU5LjU3MyAxNS42NjU4IDE1OS4yNzUgMTUuNTYyMkMxNTguOTc3IDE1LjQ1ODYgMTU4LjY3NyAxNS40MDY4IDE1OC4zNzUgMTUuNDA2OEMxNTcuODY4IDE1LjQwNjggMTU3LjQ2MSAxNS41MzcxIDE1Ny4xNTIgMTUuNzk3OEMxNTYuODQ0IDE2LjA1ODUgMTU2LjY5IDE2LjM1MjYgMTU2LjY5IDE2LjY4MDFDMTU2LjY5IDE2Ljk3NDIgMTU2LjgxNyAxNy4yMzQ5IDE1Ny4wNyAxNy40NjIyQzE1Ny4zMjQgMTcuNjg5NSAxNTcuOTUxIDE3LjkwNjcgMTU4Ljk1MSAxOC4xMTM5QzE2MC4zMzUgMTguMzk0NiAxNjEuMzAxIDE4LjczNTUgMTYxLjg0OSAxOS4xMzY2QzE2Mi42MTYgMTkuNjg0NyAxNjMgMjAuNDEzMyAxNjMgMjEuMzIyM0MxNjMgMjIuMjkxNSAxNjIuNjAzIDIzLjExNyAxNjEuODA4IDIzLjc5ODhDMTYxLjAxMyAyNC40ODA2IDE1OS44NjIgMjQuODIxNSAxNTguMzU1IDI0LjgyMTVDMTU3LjQwOSAyNC44MjE1IDE1Ni41ODIgMjQuNjY2MSAxNTUuODczIDI0LjM1NTNDMTU1LjE2NCAyNC4wNDQ1IDE1NC40NjMgMjMuNTM4MSAxNTMuNzcxIDIyLjgzNjNMMTU1LjQ4OCAyMS42NzMyWiIgZmlsbD0iIzE0MjYzNiIvPgo8L3N2Zz4K\" />
            </div>
        </div>
      </body>
    </html>", body, images_html);

    Ok(HttpResponse::Ok().content_type("text/html").body(html))
}


#[actix_web::main]
async fn main() -> std::io::Result<()> {
    HttpServer::new(move || {
        App::new()
            .route("/", web::get().to(create_page))
            .route("/", web::post().to(build_page))
    })
    .bind("0.0.0.0:8000")?
    .run()
    .await
}